"use strict";define("forum/notifications",["components","notifications"],function(t,i){var n={};n.init=function(){var n=$(".notifications-list");n.on("click",'[component="notifications/item/link"]',function(){var t=$(this).parents("[data-nid]").attr("data-nid");socket.emit("notifications.markRead",t,function(t){if(t){return app.alertError(t)}socket.emit("notifications.getCount",function(t,n){if(t){return app.alertError(t.message)}i.updateNotifCount(n)})})});$(".timeago").timeago();t.get("notifications/mark_all").on("click",function(){socket.emit("notifications.markAllRead",function(n){if(n){return app.alertError(n.message)}t.get("notifications/item").removeClass("unread");i.updateNotifCount(0)})})};return n});
//# sourceMappingURL=public/src/client/notifications.js.map